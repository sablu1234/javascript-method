#amara jodi kono complex array ar filter maner average a akta single value ber korte chai tobe ata use korte hobe reduce()
#amara jodi kono complex array ar filter maner average a akta single value ber korte chai tobe ata use korte hobe "reduce()"
#demo structure(take(reducer function- jeta value ke reduce kore something like this) 2 argument one is calback and other optional initional argument value)
arr.reduce(
  reducer(
    accumulator,
    currentValue,
    index,
    array),
  initialValue);

  #let see usecase

  #exm 
const arr = [1, 2, 3, 4, 5];
const result = arr.reduce((accumulator, currentValue) => {
  return accumulator + currentValue;
}, 0);
console.log(result)


#let see the real use

let customers =[
  {
    'id': 001,
    'f_name': 'Abby',
    'l_name': 'Thomas',
    'gender': 'M',
    'married': true,
    'age': 32,
    'expense': 500,
    'purchased': ['Shampo', 'Toys', 'Book']
  },
  {
    'id': 002,
    'f_name': 'Jerry',
    'l_name': 'Tom',
    'gender': 'M',
    'married': true,
    'age': 64,
    'expense': 100,
    'purchased': ['Stick', 'Blade']
  },
  {
    'id': 003,
    'f_name': 'Dianna',
    'l_name': 'Cherry',
    'gender': 'F',
    'married': true,
    'age': 22,
    'expense': 1500,
    'purchased': ['Lipstick', 'Nail Polish', 'Bag', 'book']
  },
  {
    'id': 004,
    'f_name': 'Dev',
    'l_name': 'Currian',
    'gender': 'M',
    'married': true,
    'age': 82,
    'expense': 90,
    'purchased': ['book']
  },
  {
    'id': 005,
    'f_name': 'Maria',
    'l_name': 'Gomes',
    'gender': 'F',
    'married': false,
    'age': 7,
    'expense': 300,
    'purchased': ['Toys']
  },
];

// reduce() - The average age of the Customers who have purchased the Item , 'Book'
let count = 0;
const total = customers.reduce((accumulator, customer) => {
  if(customer.purchased.includes('Book')){
    accumulator = accumulator + customer.age;
    count = count + 1;
  }
  return accumulator;
}, 0);

console.log('Customer Avg age Purchased Book:', Math.floor(total/count));
